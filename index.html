<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vashu • Secure Login</title>
  <style>
    :root{ --bg:#071426; --card:rgba(255,255,255,0.03); --muted:#9fb3d9; }
    body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(135deg,#001522,#04102a);color:#eaf4ff;display:flex;align-items:center;justify-content:center;height:100vh;padding:20px}
    .card{width:100%;max-width:920px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;box-shadow:0 12px 40px rgba(2,6,23,0.6);display:grid;grid-template-columns:1fr 420px;gap:18px;border:1px solid rgba(255,255,255,0.03)}
    .left{padding:12px}
    h1{margin:0 0 8px;font-size:26px}
    p{margin:0 0 14px;color:var(--muted)}
    .google-btn{display:inline-flex;align-items:center;gap:10px;padding:12px 14px;border-radius:10px;border:0;cursor:pointer;background:#fff;color:#111;font-weight:700;width:100%}
    .profile{display:none;flex-direction:column;align-items:center;gap:8px}
    .avatar{width:84px;height:84px;border-radius:50%;object-fit:cover;border:3px solid rgba(255,255,255,0.06)}
    .signout{margin-top:10px;padding:10px 12px;border-radius:8px;border:0;background:#ff5b6b;color:white;cursor:pointer}
    @media(max-width:900px){.card{grid-template-columns:1fr}}
  </style>
</head>
<body>

<div class="card">
  <div class="left">
    <h1>Vashu • Secure Login</h1>
    <p>Google account se sign-in karo. Mobile-friendly redirect method use hoti hai — bas button dabao aur Google se login karlo.</p>
    <ul style="color:var(--muted);font-size:13px">
      <li>Firebase Auth: Google enabled hona chahiye</li>
      <li>Authorized domain add hona chahiye: <code>vashugupta0824-blip.github.io</code></li>
    </ul>
  </div>

  <div style="padding:12px">
    <button id="googleBtn" class="google-btn">
      <img src="https://www.gstatic.com/images/branding/product/1x/google_48dp.png" width="22" alt="">
      Continue with Google
    </button>

    <div id="profileArea" class="profile" style="margin-top:18px">
      <img id="avatar" class="avatar" src="" alt="avatar">
      <div id="dispName" style="font-weight:700"></div>
      <div id="dispEmail" style="color:var(--muted)"></div>
      <button id="signOut" class="signout">Sign out</button>
    </div>
  </div>
</div>

<!-- Firebase compat SDKs (simple) -->
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-auth-compat.js"></script>

<script>
  // ---- TERA FIREBASE CONFIG (already tumne diya) ----
  const firebaseConfig = {
    apiKey: "AIzaSyAhdc1ZQBUDIr6MlJDObXTYMyRcjHC1DoQ",
    authDomain: "vashu-a309f.firebaseapp.com",
    projectId: "vashu-a309f",
    storageBucket: "vashu-a309f.appspot.com",
    messagingSenderId: "880730513414",
    appId: "1:880730513414:web:6da3032a3300e5e52da387",
    measurementId: "G-WBNCDVRR1E"
  };
  // ----------------------------------------------------

  // Init Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const provider = new firebase.auth.GoogleAuthProvider();

  // Elements
  const googleBtn = document.getElementById('googleBtn');
  const profileArea = document.getElementById('profileArea');
  const avatar = document.getElementById('avatar');
  const dispName = document.getElementById('dispName');
  const dispEmail = document.getElementById('dispEmail');
  const signOut = document.getElementById('signOut');

  // Button click: use redirect (mobile-safe)
  googleBtn.addEventListener('click', () => {
    // disable button quickly to avoid double clicks
    googleBtn.disabled = true;
    googleBtn.textContent = 'Redirecting…';
    // sign-in with redirect
    auth.signInWithRedirect(provider);
  });

  // When app loads after redirect, handle result
  auth.getRedirectResult().then(result => {
    if (result && result.user) {
      showUser(result.user);
    } else {
      // not from redirect, check current state
      if (auth.currentUser) showUser(auth.currentUser);
    }
  }).catch(err => {
    console.error('Redirect result error:', err);
    alert('Sign-in error: ' + (err.message || err.code));
    googleBtn.disabled = false;
    googleBtn.textContent = 'Continue with Google';
  });

  // Also watch auth state (works for popup/redirect)
  auth.onAuthStateChanged(user => {
    if (user) showUser(user);
    else {
      profileArea.style.display = 'none';
      googleBtn.style.display = 'inline-flex';
      googleBtn.disabled = false;
      googleBtn.textContent = 'Continue with Google';
    }
  });

  function showUser(user) {
    avatar.src = user.photoURL || 'https://www.gravatar.com/avatar/?d=mp';
    dispName.textContent = user.displayName || 'No name';
    dispEmail.textContent = user.email || '';
    profileArea.style.display = 'flex';
    googleBtn.style.display = 'none';
  }

  // sign out
  signOut.addEventListener('click', () => {
    auth.signOut().then(() => {
      location.reload();
    });
  });
</script>

</body>
</html><!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vashu • Secure Login</title>
  <style>
    :root{ --bg:#071426; --card:rgba(255,255,255,0.03); --muted:#9fb3d9; }
    body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(135deg,#001522,#04102a);color:#eaf4ff;display:flex;align-items:center;justify-content:center;height:100vh;padding:20px}
    .card{width:100%;max-width:920px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;box-shadow:0 12px 40px rgba(2,6,23,0.6);display:grid;grid-template-columns:1fr 420px;gap:18px;border:1px solid rgba(255,255,255,0.03)}
    .left{padding:12px}
    h1{margin:0 0 8px;font-size:26px}
    p{margin:0 0 14px;color:var(--muted)}
    .google-btn{display:inline-flex;align-items:center;gap:10px;padding:12px 14px;border-radius:10px;border:0;cursor:pointer;background:#fff;color:#111;font-weight:700;width:100%}
    .profile{display:none;flex-direction:column;align-items:center;gap:8px}
    .avatar{width:84px;height:84px;border-radius:50%;object-fit:cover;border:3px solid rgba(255,255,255,0.06)}
    .signout{margin-top:10px;padding:10px 12px;border-radius:8px;border:0;background:#ff5b6b;color:white;cursor:pointer}
    @media(max-width:900px){.card{grid-template-columns:1fr}}
  </style>
</head>
<body>

<div class="card">
  <div class="left">
    <h1>Vashu • Secure Login</h1>
    <p>Google account se sign-in karo. Mobile-friendly redirect method use hoti hai — bas button dabao aur Google se login karlo.</p>
    <ul style="color:var(--muted);font-size:13px">
      <li>Firebase Auth: Google enabled hona chahiye</li>
      <li>Authorized domain add hona chahiye: <code>vashugupta0824-blip.github.io</code></li>
    </ul>
  </div>

  <div style="padding:12px">
    <button id="googleBtn" class="google-btn">
      <img src="https://www.gstatic.com/images/branding/product/1x/google_48dp.png" width="22" alt="">
      Continue with Google
    </button>

    <div id="profileArea" class="profile" style="margin-top:18px">
      <img id="avatar" class="avatar" src="" alt="avatar">
      <div id="dispName" style="font-weight:700"></div>
      <div id="dispEmail" style="color:var(--muted)"></div>
      <button id="signOut" class="signout">Sign out</button>
    </div>
  </div>
</div>

<!-- Firebase compat SDKs (simple) -->
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-auth-compat.js"></script>

<script>
  // ---- TERA FIREBASE CONFIG (already tumne diya) ----
  const firebaseConfig = {
    apiKey: "AIzaSyAhdc1ZQBUDIr6MlJDObXTYMyRcjHC1DoQ",
    authDomain: "vashu-a309f.firebaseapp.com",
    projectId: "vashu-a309f",
    storageBucket: "vashu-a309f.appspot.com",
    messagingSenderId: "880730513414",
    appId: "1:880730513414:web:6da3032a3300e5e52da387",
    measurementId: "G-WBNCDVRR1E"
  };
  // ----------------------------------------------------

  // Init Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const provider = new firebase.auth.GoogleAuthProvider();

  // Elements
  const googleBtn = document.getElementById('googleBtn');
  const profileArea = document.getElementById('profileArea');
  const avatar = document.getElementById('avatar');
  const dispName = document.getElementById('dispName');
  const dispEmail = document.getElementById('dispEmail');
  const signOut = document.getElementById('signOut');

  // Button click: use redirect (mobile-safe)
  googleBtn.addEventListener('click', () => {
    // disable button quickly to avoid double clicks
    googleBtn.disabled = true;
    googleBtn.textContent = 'Redirecting…';
    // sign-in with redirect
    auth.signInWithRedirect(provider);
  });

  // When app loads after redirect, handle result
  auth.getRedirectResult().then(result => {
    if (result && result.user) {
      showUser(result.user);
    } else {
      // not from redirect, check current state
      if (auth.currentUser) showUser(auth.currentUser);
    }
  }).catch(err => {
    console.error('Redirect result error:', err);
    alert('Sign-in error: ' + (err.message || err.code));
    googleBtn.disabled = false;
    googleBtn.textContent = 'Continue with Google';
  });

  // Also watch auth state (works for popup/redirect)
  auth.onAuthStateChanged(user => {
    if (user) showUser(user);
    else {
      profileArea.style.display = 'none';
      googleBtn.style.display = 'inline-flex';
      googleBtn.disabled = false;
      googleBtn.textContent = 'Continue with Google';
    }
  });

  function showUser(user) {
    avatar.src = user.photoURL || 'https://www.gravatar.com/avatar/?d=mp';
    dispName.textContent = user.displayName || 'No name';
    dispEmail.textContent = user.email || '';
    profileArea.style.display = 'flex';
    googleBtn.style.display = 'none';
  }

  // sign out
  signOut.addEventListener('click', () => {
    auth.signOut().then(() => {
      location.reload();
    });
  });
</script>

</body>
</html>  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <script>
    // ---- PASTE FIREBASE CONFIG HERE ----
    const firebaseConfig = {
      /* YOUR FIREBASE CONFIG:
      apiKey: "XXXX",
      authDomain: "PROJECT-ID.firebaseapp.com",
      projectId: "PROJECT-ID",
      storageBucket: "...",
      messagingSenderId: "...",
      appId: "..."
      */
    };
    // ------------------------------------

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const provider = new firebase.auth.GoogleAuthProvider();
    const btn = document.getElementById('btnGoogle');
    const profileBox = document.getElementById('profileBox');
    const avatar = document.getElementById('avatar');
    const nameEl = document.getElementById('name');
    const emailEl = document.getElementById('email');
    const signOutBtn = document.getElementById('signOut');

    btn.addEventListener('click', () => {
      auth.signInWithPopup(provider)
        .then(result => {
          const user = result.user;
          showProfile(user);
        })
        .catch(err => {
          alert('Error: ' + err.message);
          console.error(err);
        });
    });

    signOutBtn.addEventListener('click', () => {
      auth.signOut().then(()=> {
        profileBox.style.display = 'none';
        btn.style.display = 'inline-flex';
      });
    });

    auth.onAuthStateChanged(user => {
      if(user){
        showProfile(user);
      } else {
        profileBox.style.display = 'none';
        btn.style.display = 'inline-flex';
      }
    });

    function showProfile(user){
      avatar.src = user.photoURL || '';
      nameEl.textContent = user.displayName || 'No name';
      emailEl.textContent = user.email || '';
      profileBox.style.display = 'flex';
      btn.style.display = 'none';
    }
  </script>
</body>
</html>
